<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù„Ø¹Ø¨ Ø¨Ù„Ø³Ø§Ø¯Ø³</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');
        
        * {
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 100%;
            padding: 20px;
            text-align: center;
        }
        
        /* Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-page {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #1e5799 0%, #207cca 51%, #2989d8 100%);
            color: white;
        }
        
        .title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .start-btn {
            background-color: #ff9800;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
        }
        
        .start-btn:hover {
            background-color: #f57c00;
            transform: translateY(-2px);
        }
        
        .footer {
            position: absolute;
            bottom: 20px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        /* ØµÙØ­Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
        .app-page {
            display: none;
            padding: 20px;
        }
        
        .section-title {
            font-size: 1.5rem;
            margin: 20px 0;
            color: #1e5799;
            border-bottom: 2px solid #ff9800;
            padding-bottom: 10px;
        }
        
        .tabs {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            background-color: #1e5799;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .tab {
            padding: 10px 15px;
            color: white;
            cursor: pointer;
            flex: 1;
            text-align: center;
            transition: background-color 0.3s;
        }
        
        .tab.active {
            background-color: #ff9800;
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© */
        .subjects {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .subject-btn {
            background-color: #1e5799;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .subject-btn:hover {
            background-color: #1565c0;
            transform: translateY(-2px);
        }
        
        .quiz-container {
            display: none;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }
        
        .question {
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        .option {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            background-color: #e0e0e0;
        }
        
        .timer {
            margin: 10px 0;
            font-size: 1.2rem;
            color: #ff9800;
            font-weight: bold;
        }
        
        .progress {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: #4caf50;
            width: 0%;
            transition: width 0.3s;
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„Ù†Ù‚Ø§Ø· */
        .points-display {
            font-size: 3rem;
            color: #1e5799;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .points-details {
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² */
        .rewards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .reward {
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .reward-title {
            font-weight: bold;
            color: #1e5799;
            margin-bottom: 10px;
        }
        
        .reward-btn {
            background-color: #ff9800;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .reward-btn:hover {
            background-color: #f57c00;
        }
        
        .reward-btn:disabled {
            background-color: #9e9e9e;
            cursor: not-allowed;
        }
        
        .telegram-link {
            display: none;
            margin-top: 20px;
            background-color: #0088cc;
            color: white;
            padding: 10px;
            border-radius: 5px;
            text-decoration: none;
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø© */
        .channel-info {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .channel-link {
            display: inline-block;
            background-color: #0088cc;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .channel-link:hover {
            background-color: #006699;
        }
        
        /* Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ */
        .back-btn {
            background-color: #f44336;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .back-btn:hover {
            background-color: #d32f2f;
        }
        
        /* Ù…Ø¤Ø«Ø±Ø§Øª ØµÙˆØªÙŠØ© */
        .sound-effects {
            display: none;
        }

        /* Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù */
        #adminPanel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
            direction: rtl;
        }

        #adminPanel h2 {
            color: #1e5799;
            text-align: center;
            margin-bottom: 20px;
        }

        #adminPanel div {
            margin: 20px 0;
        }

        #adminPanel input, #adminPanel select {
            padding: 10px;
            margin: 10px 0;
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        #adminPanel button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            margin: 5px 0;
        }

        #adminPanel button:hover {
            background-color: #45a049;
        }

        #questionsList {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            background-color: #f9f9f9;
        }

        .question-item {
            background-color: white;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .delete-btn {
            background-color: #f44336 !important;
            padding: 5px 10px !important;
            font-size: 12px;
        }

        /* Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø´Ø±Ù */
        .admin-access {
            position: fixed;
            bottom: 10px;
            left: 10px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 1001;
        }

        .admin-access input {
            padding: 8px;
            width: 150px;
            display: none;
        }

        .admin-access button {
            padding: 8px;
            display: none;
        }

        .admin-btn {
            background: #1e5799;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 480px) {
            .subjects, .rewards {
                grid-template-columns: 1fr;
            }
            
            .title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="container main-page" id="mainPage">
        <h1 class="title">Ù†Ù„Ø¹Ø¨ Ø¨Ù„Ø³Ø§Ø¯Ø³ØŸ</h1>
        <button class="start-btn" id="startBtn">Ø¬Ø§Ù‡Ø²</button>
        <p class="footer">Ø¥Ø¯Ø§Ø±Ø© Ø§Ø¨Ù† Ø§Ù„ÙƒÙˆÙØ©</p>
        
        <!-- Ù…Ø¤Ø«Ø±Ø§Øª ØµÙˆØªÙŠØ© Ù…Ø®ÙÙŠØ© -->
        <audio class="sound-effects" id="correctSound" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3"></audio>
        <audio class="sound-effects" id="wrongSound" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3"></audio>
        <audio class="sound-effects" id="timeoutSound" src="https://assets.mixkit.co/sfx/preview/mixkit-software-interface-start-2574.mp3"></audio>
        <audio class="sound-effects" id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>
    </div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
    <div class="container app-page" id="appPage">
        <div class="tabs">
            <div class="tab active" data-tab="questions">Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</div>
            <div class="tab" data-tab="points">Ø§Ù„Ù†Ù‚Ø§Ø·</div>
            <div class="tab" data-tab="rewards">Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²</div>
            <div class="tab" data-tab="channel">Ù‚Ù†Ø§Ø© Ø§Ø¨Ù† Ø§Ù„ÙƒÙˆÙØ©</div>
        </div>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
        <div class="tab-content active" id="questions">
            <h2 class="section-title">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</h2>
            <div class="subjects">
                <button class="subject-btn" data-subject="islamic">Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</button>
                <button class="subject-btn" data-subject="arabic">Ø¹Ø±Ø¨ÙŠ</button>
                <button class="subject-btn" data-subject="english">Ø§Ù†ÙƒÙ„ÙŠØ²ÙŠ</button>
                <button class="subject-btn" data-subject="math">Ø±ÙŠØ§Ø¶ÙŠØ§Øª</button>
                <button class="subject-btn" data-subject="biology">Ø£Ø­ÙŠØ§Ø¡</button>
                <button class="subject-btn" data-subject="chemistry">ÙƒÙŠÙ…ÙŠØ§Ø¡</button>
                <button class="subject-btn" data-subject="physics">ÙÙŠØ²ÙŠØ§Ø¡</button>
            </div>
            
            <div class="quiz-container" id="quizContainer">
                <div class="question" id="questionText"></div>
                <div class="options" id="optionsContainer"></div>
                <div class="timer" id="timer">10</div>
                <div class="progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
        </div>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ù†Ù‚Ø§Ø· -->
        <div class="tab-content" id="points">
            <h2 class="section-title">Ù†Ù‚Ø§Ø·Ùƒ</h2>
            <div class="points-display" id="totalPoints">0</div>
            <div class="points-details">
                <h3>Ø´Ø±ÙˆØ· ÙƒØ³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·:</h3>
                <p>- 1 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©</p>
                <p>- Ø§Ù„Ù†Ù‚Ø§Ø· ØªØ­ÙØ¸ Ø¨Ø¹Ø¯ 10 Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</p>
                <p>- Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ù‚Ø¨Ù„ 10 Ø¥Ø¬Ø§Ø¨Ø§Øª ØªÙÙ‚Ø¯Ùƒ Ø§Ù„Ù†Ù‚Ø§Ø·</p>
                <p>- Ø§Ù„Ù†Ù‚Ø§Ø· Ù…Ø­ÙÙˆØ¸Ø© Ø­ØªÙ‰ Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</p>
            </div>
        </div>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² -->
        <div class="tab-content" id="rewards">
            <h2 class="section-title">Ù…Ø±Ø´Ø­Ø§Øª Ø§Ø¨Ù† Ø§Ù„ÙƒÙˆÙØ©</h2>
            <div class="rewards">
                <div class="reward">
                    <div class="reward-title">Ù…Ø±Ø´Ø­Ø© ÙˆØ§Ø­Ø¯Ø©</div>
                    <p>100 Ù†Ù‚Ø·Ø©</p>
                    <button class="reward-btn" id="reward1Btn" disabled>Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù†Ù‚Ø§Ø·</button>
                </div>
                <div class="reward">
                    <div class="reward-title">Ù…Ø±Ø´Ø­ØªÙŠÙ†</div>
                    <p>150 Ù†Ù‚Ø·Ø©</p>
                    <button class="reward-btn" id="reward2Btn" disabled>Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù†Ù‚Ø§Ø·</button>
                </div>
                <div class="reward">
                    <div class="reward-title">Ø«Ù„Ø§Ø« Ù…Ø±Ø´Ø­Ø§Øª</div>
                    <p>250 Ù†Ù‚Ø·Ø©</p>
                    <button class="reward-btn" id="reward3Btn" disabled>Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù†Ù‚Ø§Ø·</button>
                </div>
            </div>
            <a href="https://t.me/MSLM_ALMYALY" class="telegram-link" id="telegramLink" target="_blank">Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…</a>
            <p id="rewardInstructions" style="display: none;">Ø£Ø®Ø° Ø³ÙƒØ±ÙŠÙ† Ù„Ù„Ø´Ø§Ø´Ø© ÙˆØ¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ù„Ù†Ø§</p>
        </div>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø© -->
        <div class="tab-content" id="channel">
            <h2 class="section-title">Ù‚Ù†Ø§Ø© Ø§Ø¨Ù† Ø§Ù„ÙƒÙˆÙØ©</h2>
            <div class="channel-info">
                <p>Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯Ù‡ Ù„Ù‚Ù†Ø§Ø© Ø§Ø¨Ù† Ø§Ù„ÙƒÙˆÙØ© Ø®ØµÙŠØµØ§Ù‹</p>
                <a href="https://t.me/IbnalKufa" class="channel-link" target="_blank">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ù‚Ù†Ø§ØªÙ†Ø§ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…</a>
            </div>
        </div>
        
        <button class="back-btn" id="backBtn">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    </div>

    <!-- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù -->
    <div id="adminPanel">
        <h2>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù</h2>
        
        <div>
            <h3>Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</h3>
            <select id="adminSubject">
                <option value="islamic">Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</option>
                <option value="arabic">Ø¹Ø±Ø¨ÙŠ</option>
                <option value="english">Ø§Ù†ÙƒÙ„ÙŠØ²ÙŠ</option>
                <option value="math">Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
                <option value="biology">Ø£Ø­ÙŠØ§Ø¡</option>
                <option value="chemistry">ÙƒÙŠÙ…ÙŠØ§Ø¡</option>
                <option value="physics">ÙÙŠØ²ÙŠØ§Ø¡</option>
            </select>
            
            <input type="text" id="adminQuestion" placeholder="Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„">
            
            <input type="text" id="adminOption1" placeholder="Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰">
            <input type="text" id="adminOption2" placeholder="Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©">
            <input type="text" id="adminOption3" placeholder="Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©">
            <input type="text" id="adminOption4" placeholder="Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©">
            
            <select id="adminCorrectAnswer">
                <option value="0">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ Ø§Ù„Ø£ÙˆÙ„Ù‰</option>
                <option value="1">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠØ©</option>
                <option value="2">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ Ø§Ù„Ø«Ø§Ù„Ø«Ø©</option>
                <option value="3">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©</option>
            </select>
            
            <button onclick="addQuestion()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¤Ø§Ù„</button>
        </div>
        
        <div>
            <h3>Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©</h3>
            <div id="questionsList"></div>
        </div>
        
        <div>
            <h3>ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
            <input type="password" id="currentPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©">
            <input type="password" id="newPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
            <input type="password" id="confirmPassword" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            <button onclick="changePassword()">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
        </div>
        
        <button onclick="hideAdminPanel()" style="background-color: #f44336;">Ø¥ØºÙ„Ø§Ù‚ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
    </div>

    <!-- Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø´Ø±Ù -->
    <div class="admin-access">
        <input type="password" id="adminPasswordInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        <button onclick="checkAdminPassword()">Ø¯Ø®ÙˆÙ„</button>
        <button onclick="showAdminLogin()" class="admin-btn">ğŸ‘‘</button>
    </div>
    
    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© (50 Ø³Ø¤Ø§Ù„ Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø©)
        const questionsData = {
            islamic: [
                {
                    question: "Ù…Ø§ Ù‡ÙŠ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ",
                    options: ["Ø§Ù„Ø´Ù‡Ø§Ø¯ØªØ§Ù†ØŒ Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø§Ù„Ø²ÙƒØ§Ø©ØŒ Ø§Ù„ØµÙˆÙ…ØŒ Ø§Ù„Ø­Ø¬", "Ø§Ù„ØµÙ„Ø§Ø© ÙÙ‚Ø·", "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ø§Ù„Ø°ÙƒØ± Ø§Ù„Ø¯Ø§Ø¦Ù…"],
                    answer: 0
                },
                {
                    question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ÙØ±ÙˆØ¶Ø© ÙÙŠ Ø§Ù„ÙŠÙˆÙ…ØŸ",
                    options: ["3", "5", "7", "10"],
                    answer: 1
                },
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø£ÙˆÙ„ Ù…Ø§ ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ù„Ù… ØªØ¹Ù„Ù…Ù‡ØŸ",
                    options: ["Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…", "Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†", "Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙŠ", "Ø§Ù„ÙÙ‚Ù‡"],
                    answer: 0
                },
                {
                    question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªØ³Ù…Ù‰ Ù‚Ù„Ø¨ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ",
                    options: ["Ø§Ù„Ø¨Ù‚Ø±Ø©", "Ø§Ù„ÙØ§ØªØ­Ø©", "ÙŠØ³", "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ"],
                    answer: 2
                }
            ],
            arabic: [
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'ÙƒØªØ§Ø¨'ØŸ",
                    options: ["ÙƒØªØ¨", "ÙƒØªØ§Ø¨Ø§Øª", "ÙƒØªØ§Ø¨ÙˆÙ†", "ÙƒØªØ§Ø¨ÙŠÙ†"],
                    answer: 0
                },
                {
                    question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©: 'Ø§Ù„Ø·Ø§Ù„Ø¨ ÙŠØ°Ø§ÙƒØ± Ø¯Ø±ÙˆØ³Ù‡'ØŸ",
                    options: ["Ø§Ø³Ù…ÙŠØ©", "ÙØ¹Ù„ÙŠØ©", "Ø´Ø¨Ù‡ Ø¬Ù…Ù„Ø©", "Ù„Ø§ Ø´ÙŠØ¡ Ù…Ù…Ø§ Ø°ÙƒØ±"],
                    answer: 1
                },
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø¶Ø¯ ÙƒÙ„Ù…Ø© 'Ø³Ø±ÙŠØ¹'ØŸ",
                    options: ["Ø¨Ø·ÙŠØ¡", "Ù‚ÙˆÙŠ", "Ø¶Ø¹ÙŠÙ", "ØµØºÙŠØ±"],
                    answer: 0
                }
            ],
            english: [
                {
                    question: "What is the plural of 'child'?",
                    options: ["childs", "children", "childes", "child"],
                    answer: 1
                },
                {
                    question: "Which sentence is correct?",
                    options: ["He go to school", "He goes to school", "He going to school", "He is go to school"],
                    answer: 1
                },
                {
                    question: "What is the opposite of 'happy'?",
                    options: ["Sad", "Angry", "Tired", "Sleepy"],
                    answer: 0
                }
            ],
            math: [
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ù†Ø§ØªØ¬ 5 Ã— 7ØŸ",
                    options: ["25", "30", "35", "40"],
                    answer: 2
                },
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ù…Ù† Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ§Ù„ÙŠØ©ØŸ",
                    options: ["4", "6", "7", "8"],
                    answer: 2
                },
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ù…Ø­ÙŠØ· Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„ØªÙŠ Ù†ØµÙ Ù‚Ø·Ø±Ù‡Ø§ 7 Ø³Ù…ØŸ",
                    options: ["14Ï€", "7Ï€", "49Ï€", "21Ï€"],
                    answer: 0
                }
            ],
            biology: [
                {
                    question: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø¶ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„Ø© Ø¹Ù† Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø·Ø§Ù‚Ø©ØŸ",
                    options: ["Ø§Ù„Ù†ÙˆØ§Ø©", "Ø§Ù„Ù…ÙŠØªÙˆÙƒÙˆÙ†Ø¯Ø±ÙŠØ§", "Ø§Ù„Ø±ÙŠØ¨ÙˆØ³ÙˆÙ…", "Ø§Ù„Ø¬Ø³Ù… Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ"],
                    answer: 1
                },
                {
                    question: "Ù…Ø§ Ù‡ÙŠ Ø¹Ù…Ù„ÙŠØ© ØµÙ†Ø¹ Ø§Ù„ØºØ°Ø§Ø¡ ÙÙŠ Ø§Ù„Ù†Ø¨Ø§ØªØŸ",
                    options: ["Ø§Ù„ØªÙ†ÙØ³", "Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¶ÙˆØ¦ÙŠ", "Ø§Ù„ØªØ®Ù…Ø±", "Ø§Ù„ØªØ¨Ø®Ø±"],
                    answer: 1
                },
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† ØªÙ†Ù‚ÙŠØ© Ø§Ù„Ø¯Ù… ÙÙŠ Ø§Ù„Ø¬Ø³Ù…ØŸ",
                    options: ["Ø§Ù„Ù‚Ù„Ø¨", "Ø§Ù„ÙƒØ¨Ø¯", "Ø§Ù„ÙƒÙ„Ù‰", "Ø§Ù„Ø±Ø¦ØªÙŠÙ†"],
                    answer: 2
                }
            ],
            chemistry: [
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù…Ø² Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ù„Ù„Ø°Ù‡Ø¨ØŸ",
                    options: ["Ag", "Au", "Fe", "Cu"],
                    answer: 1
                },
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø£ÙƒØ«Ø± ÙˆÙØ±Ø© ÙÙŠ Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„Ø¬ÙˆÙŠØŸ",
                    options: ["Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†", "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†", "Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†"],
                    answer: 2
                },
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†ÙŠ Ù„Ù„Ù…Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…ØªØ¹Ø§Ø¯Ù„ØŸ",
                    options: ["0", "7", "10", "14"],
                    answer: 1
                }
            ],
            physics: [
                {
                    question: "Ù…Ø§ Ù‡ÙŠ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ù‚ÙˆØ©ØŸ",
                    options: ["ÙˆØ§Ø·", "Ù†ÙŠÙˆØªÙ†", "Ø¬ÙˆÙ„", "Ø£Ù…Ø¨ÙŠØ±"],
                    answer: 1
                },
                {
                    question: "Ù…Ø§ Ù‡ÙŠ Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ÙˆØ¡ ÙÙŠ Ø§Ù„ÙØ±Ø§ØºØŸ",
                    options: ["300 Ø£Ù„Ù ÙƒÙ…/Ø«", "30 Ø£Ù„Ù ÙƒÙ…/Ø«", "3 Ø£Ù„Ù ÙƒÙ…/Ø«", "300 ÙƒÙ…/Ø«"],
                    answer: 0
                },
                {
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù‚ÙŠØ§Ø³ Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ",
                    options: ["Ø§Ù„ÙÙˆÙ„ØªÙ…ÙŠØªØ±", "Ø§Ù„Ø£Ù…ÙŠØªØ±", "Ø§Ù„Ø£ÙˆÙ…ÙŠØªØ±", "Ø§Ù„Ø¬Ù„ÙˆÙØ§Ù†ÙˆÙ…ÙŠØªØ±"],
                    answer: 1
                }
            ]
        };
        
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let currentSubject = '';
        let currentQuestionIndex = 0;
        let score = localStorage.getItem('userScore') ? parseInt(localStorage.getItem('userScore')) : 0;
        let correctAnswersInRow = 0;
        let timer;
        let timeLeft = 10;
        let gameActive = false;
        let ADMIN_PASSWORD = "123120"; // ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø´Ø±Ù
        
        // Ø¹Ù†Ø§ØµØ± DOM
        const mainPage = document.getElementById('mainPage');
        const appPage = document.getElementById('appPage');
        const startBtn = document.getElementById('startBtn');
        const backBtn = document.getElementById('backBtn');
        const quizContainer = document.getElementById('quizContainer');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const timerDisplay = document.getElementById('timer');
        const progressBar = document.getElementById('progressBar');
        const totalPointsDisplay = document.getElementById('totalPoints');
        const reward1Btn = document.getElementById('reward1Btn');
        const reward2Btn = document.getElementById('reward2Btn');
        const reward3Btn = document.getElementById('reward3Btn');
        const telegramLink = document.getElementById('telegramLink');
        const rewardInstructions = document.getElementById('rewardInstructions');
        
        // Ù…Ø¤Ø«Ø±Ø§Øª ØµÙˆØªÙŠØ©
        const correctSound = document.getElementById('correctSound');
        const wrongSound = document.getElementById('wrongSound');
        const timeoutSound = document.getElementById('timeoutSound');
        const winSound = document.getElementById('winSound');
        
        // ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„ØµÙØ­Ø©
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                const tabId = tab.getAttribute('data-tab');
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === tabId) {
                        content.classList.add('active');
                    }
                });
                
                updateRewardsButtons();
            });
        });
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        startBtn.addEventListener('click', () => {
            mainPage.style.display = 'none';
            appPage.style.display = 'block';
            totalPointsDisplay.textContent = score;
        });
        
        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        backBtn.addEventListener('click', () => {
            appPage.style.display = 'none';
            mainPage.style.display = 'flex';
            resetGame();
        });
        
        // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø§Ø¯Ø©
        document.querySelectorAll('.subject-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                currentSubject = btn.getAttribute('data-subject');
                startQuiz();
            });
        });
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function startQuiz() {
            if (!questionsData[currentSubject] || questionsData[currentSubject].length === 0) {
                alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø© Ø­Ø§Ù„ÙŠØ§Ù‹');
                return;
            }
            
            document.getElementById('questions').classList.add('active');
            document.getElementById('points').classList.remove('active');
            document.getElementById('rewards').classList.remove('active');
            document.getElementById('channel').classList.remove('active');
            
            tabs.forEach(tab => {
                if (tab.getAttribute('data-tab') === 'questions') {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
            
            currentQuestionIndex = 0;
            correctAnswersInRow = 0;
            gameActive = true;
            quizContainer.style.display = 'block';
            showQuestion();
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
        function showQuestion() {
            if (!gameActive) return;
            
            const questions = questionsData[currentSubject];
            if (currentQuestionIndex >= questions.length) {
                endQuiz(true);
                return;
            }
            
            const question = questions[currentQuestionIndex];
            questionText.textContent = question.question;
            
            optionsContainer.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => checkAnswer(index));
                optionsContainer.appendChild(optionElement);
            });
            
            timeLeft = 10;
            timerDisplay.textContent = timeLeft;
            progressBar.style.width = '100%';
            
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = timeLeft;
                progressBar.style.width = `${(timeLeft / 10) * 100}%`;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    timeoutSound.play();
                    checkAnswer(-1); // -1 ÙŠØ¹Ù†ÙŠ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª
                }
            }, 1000);
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        function checkAnswer(selectedIndex) {
            clearInterval(timer);
            
            const question = questionsData[currentSubject][currentQuestionIndex];
            const options = document.querySelectorAll('.option');
            
            if (selectedIndex === question.answer) {
                // Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
                options[selectedIndex].style.backgroundColor = '#4caf50';
                options[selectedIndex].style.color = 'white';
                correctSound.play();
                
                score++;
                correctAnswersInRow++;
                localStorage.setItem('userScore', score);
                
                // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù‚Ø§Ø·
                totalPointsDisplay.textContent = score;
                
                setTimeout(() => {
                    currentQuestionIndex++;
                    showQuestion();
                }, 1000);
            } else {
                // Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                wrongSound.play();
                if (selectedIndex !== -1) {
                    options[selectedIndex].style.backgroundColor = '#f44336';
                    options[selectedIndex].style.color = 'white';
                }
                options[question.answer].style.backgroundColor = '#4caf50';
                options[question.answer].style.color = 'white';
                
                setTimeout(() => {
                    endQuiz(false);
                }, 1000);
            }
        }
        
        // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function endQuiz(success) {
            gameActive = false;
            
            if (success) {
                winSound.play();
                alert('Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                if (correctAnswersInRow < 10) {
                    // ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ù†Ù‚Ø§Ø· Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© Ø£Ù‚Ù„ Ù…Ù† 10
                    score -= correctAnswersInRow;
                    if (score < 0) score = 0;
                    localStorage.setItem('userScore', score);
                    totalPointsDisplay.textContent = score;
                    alert('Ù„Ù‚Ø¯ Ø®Ø³Ø±Øª! Ø§Ù„Ù†Ù‚Ø§Ø· Ù„Ù… ØªØ­ÙØ¸ Ù„Ø£Ù†Ùƒ Ù„Ù… ØªØ¬Ø¨ Ø¹Ù„Ù‰ 10 Ø£Ø³Ø¦Ù„Ø© ØµØ­ÙŠØ­Ø© Ù…ØªØªØ§Ù„ÙŠØ©');
                } else {
                    alert('Ù„Ù‚Ø¯ Ø®Ø³Ø±Øª! ÙˆÙ„ÙƒÙ† Ø§Ù„Ù†Ù‚Ø§Ø· Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø£Ù†Ùƒ Ø£Ø¬Ø¨Øª Ø¹Ù„Ù‰ Ø£ÙƒØ«Ø± Ù…Ù† 10 Ø£Ø³Ø¦Ù„Ø© ØµØ­ÙŠØ­Ø© Ù…ØªØªØ§Ù„ÙŠØ©');
                }
            }
            
            quizContainer.style.display = 'none';
            updateRewardsButtons();
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©
        function resetGame() {
            clearInterval(timer);
            gameActive = false;
            quizContainer.style.display = 'none';
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²
        function updateRewardsButtons() {
            reward1Btn.disabled = score < 100;
            reward2Btn.disabled = score < 150;
            reward3Btn.disabled = score < 250;
        }
        
        // Ø£Ø­Ø¯Ø§Ø« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²
        reward1Btn.addEventListener('click', () => {
            if (score >= 100) {
                score -= 100;
                localStorage.setItem('userScore', score);
                totalPointsDisplay.textContent = score;
                telegramLink.style.display = 'block';
                rewardInstructions.style.display = 'block';
                updateRewardsButtons();
                alert('Ù…Ø¨Ø±ÙˆÙƒ! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…');
            }
        });
        
        reward2Btn.addEventListener('click', () => {
            if (score >= 150) {
                score -= 150;
                localStorage.setItem('userScore', score);
                totalPointsDisplay.textContent = score;
                telegramLink.style.display = 'block';
                rewardInstructions.style.display = 'block';
                updateRewardsButtons();
                alert('Ù…Ø¨Ø±ÙˆÙƒ! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…');
            }
        });
        
        reward3Btn.addEventListener('click', () => {
            if (score >= 250) {
                score -= 250;
                localStorage.setItem('userScore', score);
                totalPointsDisplay.textContent = score;
                telegramLink.style.display = 'block';
                rewardInstructions.style.display = 'block';
                updateRewardsButtons();
                alert('Ù…Ø¨Ø±ÙˆÙƒ! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…');
            }
        });

        // ÙˆØ¸Ø§Ø¦Ù Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù
        function showAdminLogin() {
            document.getElementById('adminPasswordInput').style.display = 'block';
            document.querySelector('.admin-access button').style.display = 'block';
            document.querySelector('.admin-btn').style.display = 'none';
        }

        function checkAdminPassword() {
            const password = document.getElementById('adminPasswordInput').value;
            if (password === ADMIN_PASSWORD) {
                document.getElementById('adminPanel').style.display = 'block';
                document.getElementById('adminPasswordInput').style.display = 'none';
                document.querySelector('.admin-access button').style.display = 'none';
                document.querySelector('.admin-btn').style.display = 'block';
                document.getElementById('adminPasswordInput').value = '';
                loadQuestionsList();
            } else {
                alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        }

        function hideAdminPanel() {
            document.getElementById('adminPanel').style.display = 'none';
        }

        function addQuestion() {
            const subject = document.getElementById('adminSubject').value;
            const question = document.getElementById('adminQuestion').value;
            const options = [
                document.getElementById('adminOption1').value,
                document.getElementById('adminOption2').value,
                document.getElementById('adminOption3').value,
                document.getElementById('adminOption4').value
            ];
            const correctAnswer = parseInt(document.getElementById('adminCorrectAnswer').value);
            
            if (!question || options.some(opt => !opt)) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }
            
            if (!questionsData[subject]) {
                questionsData[subject] = [];
            }
            
            questionsData[subject].push({
                question: question,
                options: options,
                answer: correctAnswer
            });
            
            localStorage.setItem('quizQuestions', JSON.stringify(questionsData));
            loadQuestionsList();
            
            document.getElementById('adminQuestion').value = '';
            document.getElementById('adminOption1').value = '';
            document.getElementById('adminOption2').value = '';
            document.getElementById('adminOption3').value = '';
            document.getElementById('adminOption4').value = '';
            
            alert('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!');
        }

        function loadQuestionsList() {
            const listDiv = document.getElementById('questionsList');
            listDiv.innerHTML = '';
            
            for (const subject in questionsData) {
                const subjectDiv = document.createElement('div');
                subjectDiv.innerHTML = `<h4>${getSubjectName(subject)} (${questionsData[subject].length} Ø³Ø¤Ø§Ù„)</h4>`;
                listDiv.appendChild(subjectDiv);
                
                questionsData[subject].forEach((q, index) => {
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'question-item';
                    questionDiv.innerHTML = `
                        <p><strong>Ø§Ù„Ø³Ø¤Ø§Ù„:</strong> ${q.question}</p>
                        <p><strong>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª:</strong> ${q.options.join(' / ')}</p>
                        <p><strong>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:</strong> ${q.options[q.answer]}</p>
                        <button onclick="deleteQuestion('${subject}', ${index})" class="delete-btn">Ø­Ø°Ù</button>
                    `;
                    listDiv.appendChild(questionDiv);
                });
            }
        }

        function deleteQuestion(subject, index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ØŸ')) {
                questionsData[subject].splice(index, 1);
                localStorage.setItem('quizQuestions', JSON.stringify(questionsData));
                loadQuestionsList();
            }
        }

        function changePassword() {
            const currentPass = document.getElementById('currentPassword').value;
            const newPass = document.getElementById('newPassword').value;
            const confirmPass = document.getElementById('confirmPassword').value;
            
            if (currentPass !== ADMIN_PASSWORD) {
                alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                return;
            }
            
            if (newPass !== confirmPass) {
                alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
                return;
            }
            
            if (newPass.length < 4) {
                alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 4 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }
            
            ADMIN_PASSWORD = newPass;
            localStorage.setItem('adminPassword', newPass);
            
            alert('ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­');
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
        }

        function getSubjectName(subjectKey) {
            const names = {
                islamic: 'Ø¥Ø³Ù„Ø§Ù…ÙŠØ©',
                arabic: 'Ø¹Ø±Ø¨ÙŠ',
                english: 'Ø§Ù†ÙƒÙ„ÙŠØ²ÙŠ',
                math: 'Ø±ÙŠØ§Ø¶ÙŠØ§Øª',
                biology: 'Ø£Ø­ÙŠØ§Ø¡',
                chemistry: 'ÙƒÙŠÙ…ÙŠØ§Ø¡',
                physics: 'ÙÙŠØ²ÙŠØ§Ø¡'
            };
            return names[subjectKey] || subjectKey;
        }

        // Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©ØŒ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        document.addEventListener('DOMContentLoaded', function() {
            const savedQuestions = localStorage.getItem('quizQuestions');
            if (savedQuestions) {
                Object.assign(questionsData, JSON.parse(savedQuestions));
            }
            
            const savedPassword = localStorage.getItem('adminPassword');
            if (savedPassword) {
                ADMIN_PASSWORD = savedPassword;
            }

            // Ø¥Ø®ÙØ§Ø¡ Ø­Ù‚ÙˆÙ„ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
            document.getElementById('adminPasswordInput').style.display = 'none';
            document.querySelector('.admin-access button').style.display = 'none';
        });
        
        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù‚Ø§Ø· Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        totalPointsDisplay.textContent = score;
        updateRewardsButtons();
    </script>
</body>
</html>
